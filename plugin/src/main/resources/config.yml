web:
  port: 8080
  publicUrl: "http://localhost:8080"

discord:
  botToken: "YOUR_BOT_TOKEN"
  # Used when postLogin.action == discord-invite
  targetGuildId: ""
  inviteChannelId: ""

oauth:
  clientId: "DISCORD_OAUTH_CLIENT_ID"
  clientSecret: "DISCORD_OAUTH_CLIENT_SECRET"
  scopes: "identify email applications.commands"

database:
  driver: sqlite
  url: "jdbc:sqlite:plugins/LogDO2/logdo2.db"
  username: ""
  password: ""
  pool:
    maxPoolSize: 8

#database:
#  url: "jdbc:mysql://localhost:3306/logdo2?useSSL=false&serverTimezone=UTC&characterEncoding=utf8"
#  username: "logdo2"
#  password: "secret"
#  driver: mysql

#database:
#  url: "jdbc:postgresql://localhost:5432/logdo2"
#  username: "logdo2"
#  password: "secret"
#  driver: postgres

security:
  # Valid but better to generate your own, for example: openssl rand -base64 32
  tokenEncryptionKeyBase64: "wBBZdmmPuvKZFZSw42aEJ+CoZGSgV8QsCDW01kfk6n0="

bans:
  enabled: true
  baseSeconds: 1800
  multiplier: 2.0
  maxSeconds: 604800
  trackWindowSeconds: 2592000
  reasonTemplate: "Suspicious login attempt. Ban: %DURATION%."


timeouts:
  loginSeconds: 300
  ipConfirmSeconds: 180

platform:
  bedrockCodeTimeAfterLeave: 60

audit:
  enabled: true
  file: "logdo2-actions.log"  # relative to server root

limits:
  perDiscord:
    java: 1
    bedrock: 1
    includeReserved: false
    disallowSimultaneousPlay: false

# What to show/do in the browser after successful OAuth login
postLogin:
  # one of: text, discord-invite, redirect
  action: text
  # Used when action == text
  text: "Discord account linked. You can return to the game."
  # Used when action == redirect
  redirectUrl: ""

gates:
  # What actions are allowed during the first login (before OAuth)
  login:
    move: false
    interact: false
    chat: false
    commands: false
    commandsAllowed: []
    blindness: false
    hidePlayers: false
    drop: false
    inventory: false
    damage: true
  # What actions are allowed while waiting for IP confirmation
  ipConfirm:
    move: false
    interact: false
    chat: false
    commands: false
    commandsAllowed: []
    blindness: false
    hidePlayers: false
    drop: false
    inventory: false
    damage: true
